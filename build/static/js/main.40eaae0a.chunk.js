(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(84)},55:function(e,t,n){},57:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(29),c=n.n(u),o=n(10),i=n(4),s=n(32),l=n.n(s),p=n(33),f=n(34),m=n.n(f),h=(n(55),n(7)),v=n(8),d=n(11),b=n(9),E=n(12),O=(n(57),function(){return a.a.createElement("header",null,a.a.createElement("h1",null,"My Github Favorites"))}),g=n(13),j=n(1),y=n.n(j),_=n(5),F=n(18),k=n.n(F),w={search:function(){var e=Object(_.a)(y.a.mark(function e(t,n){var r,a,u,c,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=10,e.next=4,k.a.get("https://api.github.com/search/repositories?q=".concat(t));case 4:return u=e.sent,c=u.data.items,o=c.slice(0,a).map(function(){var e=Object(_.a)(y.a.mark(function e(t){var a,u,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,u="",c={},e.next=5,k.a.get(t.tags_url).then(function(e){return e.data[0]?e.data[0].name:"-"});case 5:u=e.sent,n.find(function(e){return e.id===t.id?a=!a:a}),c={id:t.id,name:t.full_name,lang:t.language,url:t.html_url,tag:u,isFav:a},r.push(c);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,Promise.all(o);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},x={get:function(){var e=Object(_.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("favorites"));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),set:function(e){return localStorage.setItem("favorites",JSON.stringify(e))}},N=function(){var e=x.get();return function(t){return t({type:"FETCH_FAVORITES",payload:e})}},C=function(){var e=Object(_.a)(y.a.mark(function e(t,n){var r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.search(t,n);case 2:if(!((r=e.sent).length<1)){e.next=5;break}return e.abrupt("return",alert("No repos found"));case 5:return e.abrupt("return",function(e){e({type:"REPOS_FINDED",payload:r})});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get();case 2:return(n=e.sent).push(t),x.set(n),e.abrupt("return",function(e){return e({type:"ADD_FAV",favorites:n,repo:t})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(y.a.mark(function e(t){var n,r,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.repo,r=t.index,e.next=3,x.get();case 3:return(a=e.sent).splice(r,1),x.set(a),e.abrupt("return",function(e){return e({type:"REMOVE_FAV",favorites:a,repo:n})});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),A=(n(80),function(e){return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Language"),a.a.createElement("th",null,"Latest tag"),a.a.createElement("th",null))),a.a.createElement("tbody",null,e.children))}),T=function(e){return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),a.a.createElement("td",null,e.lang),a.a.createElement("td",null,e.tag),a.a.createElement("td",null,""!==e.isFav?!e.isFav&&a.a.createElement("button",{className:"add-btn",onClick:e.onClick},e.buttonLabel):a.a.createElement("button",{className:"add-btn",onClick:e.onClick},e.buttonLabel)))},V=(n(82),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(b.a)(t).call(this))).state={repoName:""},n._handleChange=n._handleChange.bind(Object(g.a)(Object(g.a)(n))),n}return Object(E.a)(t,e),Object(v.a)(t,[{key:"_handleChange",value:function(e){this.setState({repoName:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.repoName,n=this.props,r=n.favorites,u=n.repos,c=n.addToFavorites;return a.a.createElement("div",{className:"flexed-child"},a.a.createElement("form",{className:"form",onSubmit:function(n){n.preventDefault(),e.props.search(t,r)}},a.a.createElement("input",{required:!0,type:"text",name:"repo",value:t,onChange:this._handleChange,placeholder:"Search for a Github repository"}),a.a.createElement("input",{type:"submit",value:"Search"})),a.a.createElement(A,null,u.map(function(e){return a.a.createElement(T,{key:e.id,url:e.url,name:e.name,lang:e.lang,tag:e.tag,buttonLabel:"Add",isFav:e.isFav,onClick:function(){return c(e)}})})))}}]),t}(r.Component)),I=Object(o.b)(function(e){return{repos:e.repos.repos,favorites:e.repos.favorites}},function(e){return Object(i.b)({search:C,addToFavorites:S},e)})(V),R=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchFavorites()}},{key:"render",value:function(){var e=this.props,t=e.favorites,n=e.removeFavorite;return a.a.createElement("div",{className:"flexed-child purple-bg"},a.a.createElement(A,null,t.map(function(e,t){return a.a.createElement(T,{key:e.id,url:e.url,name:e.name,lang:e.lang,tag:e.tag,buttonLabel:"Remove",onClick:function(){return n({repo:e,index:t})}})})))}}]),t}(r.Component),L=Object(o.b)(function(e){return{favorites:e.repos.favorites}},function(e){return Object(i.b)({fetchFavorites:N,removeFavorite:D},e)})(R),J=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(O,null),a.a.createElement("div",{className:"wrapper"},a.a.createElement(I,null),a.a.createElement(L,null)))}}]),t}(r.Component),M=n(6),X={repos:[],favorites:[]},P=Object(i.c)({repos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPOS_FINDED":return Object(M.a)({},e,{repos:t.payload});case"FETCH_FAVORITES":return Object(M.a)({},e,{favorites:t.payload});case"ADD_FAV":var n=e.repos.slice();return Object(M.a)({},e,{repos:n.map(function(e){return e.id===t.repo.id?Object(M.a)({},e,{isFav:!e.isFav}):e}),favorites:t.favorites});case"REMOVE_FAV":var r=e.repos.slice();return Object(M.a)({},e,{repos:r.map(function(e){return e.id===t.repo.id?Object(M.a)({},e,{isFav:!e.isFav}):e}),favorites:t.favorites});default:return e}}}),q=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),G=Object(i.a)(p.a,m.a,l.a)(i.d)(P,q);c.a.render(a.a.createElement(o.a,{store:G},a.a.createElement(J,null)),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.40eaae0a.chunk.js.map